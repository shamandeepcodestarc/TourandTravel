(this.webpackJsonpreactlaravel=this.webpackJsonpreactlaravel||[]).push([[21],{224:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var c=a(16),n=a(15),l=a(18),o=a(17),r=a(19),i=a(236),s=a.n(i),u=a(0),m=a.n(u),p=(a(225),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return m.a.createElement(s.a,{type:"Circles",color:"black",height:100,width:100,className:"loader_position"})}}]),t}(m.a.Component))},225:function(e,t,a){},2350:function(e,t,a){},2389:function(e,t,a){"use strict";a.r(t);var c=a(52),n=a(0),l=a.n(n),o=a(66),r=a.n(o),i=a(28),s=a(100),u=a.n(s),m=(a(2350),a(46)),p=a.n(m),d=(a(240),a(246),a(224)),g=a(5),E=a(94),f=a(199),y=a(608),b=a(383),h=a(384),j=a(188),O=a(189),S=a(190),v=a(181),N=a(191),k=a(202),C=a(385);t.default=function(){var e=this,t=Object(n.useState)([]),a=Object(c.a)(t,2),o=(a[0],a[1],Object(n.useState)([])),s=Object(c.a)(o,2),m=s[0],_=s[1],A=Object(n.useState)(!1),z=Object(c.a)(A,2),I=z[0],w=z[1],x=Object(n.useState)(!1),J=Object(c.a)(x,2),T=J[0],B=J[1],P=Object(n.useState)(!1),F=Object(c.a)(P,2),D=F[0],R=F[1],U=Object(n.useState)(!1),V=Object(c.a)(U,2),L=V[0],W=V[1],q=function(){return B(!T)},G=function(){return w(!I)},H=function(){return R(!D)},K=function(){return W(!L)},M=Object(n.useState)([]),Q=Object(c.a)(M,2),X=Q[0],Y=Q[1],Z=Object(n.useState)([]),$=Object(c.a)(Z,2),ee=($[0],$[1],Object(n.useState)([])),te=Object(c.a)(ee,2),ae=(te[0],te[1],Object(n.useState)([])),ce=Object(c.a)(ae,2),ne=(ce[0],ce[1]),le=Object(n.useState)(!0),oe=Object(c.a)(le,2),re=oe[0],ie=oe[1],se=Object(n.useState)(""),ue=Object(c.a)(se,2),me=(ue[0],ue[1]),pe=Object(n.useState)(""),de=Object(c.a)(pe,2),ge=de[0],Ee=(de[1],Object(n.useState)("")),fe=Object(c.a)(Ee,2),ye=(fe[0],fe[1],Object(n.useState)("")),be=Object(c.a)(ye,2),he=be[0],je=be[1],Oe=Object(n.useState)(""),Se=Object(c.a)(Oe,2),ve=Se[0],Ne=Se[1],ke=Object(n.useState)(""),Ce=Object(c.a)(ke,2),_e=Ce[0],Ae=Ce[1],ze=Object(n.useState)(""),Ie=Object(c.a)(ze,2),we=(Ie[0],Ie[1],Object(n.useState)("")),xe=Object(c.a)(we,2),Je=(xe[0],xe[1],Object(n.useState)([])),Te=Object(c.a)(Je,2),Be=(Te[0],Te[1],Object(n.useState)("")),Pe=Object(c.a)(Be,2),Fe=Pe[0],De=Pe[1];Object(n.useEffect)((function(){Re(),Ve(),Ue()}),[]);var Re=function(){var e=localStorage.getItem("key");if(!e)return l.a.createElement(i.Redirect,{to:"/"});var t=e.replace(/"/g,""),a={headers:{"Content-Type":"applicatio/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}};r.a.get("".concat(p.a.api_url,"cancelpolicy"),a).then((function(e){var t=JSON.stringify(e),a=JSON.parse(t);200==a.status&&(Y(a.data.data),ie(!1))})).catch((function(e){console.log(e,"errror")}))},Ue=function(e){var t=localStorage.getItem("key").replace(/"/g,""),a={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}};r.a.get("".concat(p.a.api_url,"cancelpolicy"),a).then((function(e){var t=JSON.stringify(e),a=JSON.parse(t);200==a.status&&me(a.data.data)})).catch((function(e){console.log(e,"errror")}))},Ve=function(){var e=localStorage.getItem("key");if(!e)return l.a.createElement(i.Redirect,{to:"/"});var t=e.replace(/"/g,""),a={headers:{"Content-Type":"applicatio/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}};r.a.get("".concat(p.a.api_url,"policycategory"),a).then((function(e){var t=JSON.stringify(e),a=JSON.parse(t);200==a.status&&(_(a.data.data),console.log(a.data.data))})).catch((function(e){console.log(e,"errror")}))},Le=function(e){var t=localStorage.getItem("key"),a=t.replace(/"/g,"");console.log(t);var c={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a)}},n={description:ve,policy_category_id:Fe};r.a.put("".concat(p.a.api_url,"cancelpolicy/").concat(he),n,c).then((function(t){if(t)return K(),Re(),console.log(e),u()("polciy Updated Successfully!","success"),t.data.data})).catch((function(e){console.log(e)}))},We=(localStorage.getItem("token"),localStorage.getItem("role")),qe=localStorage.getItem("IsLoggedIn");return We&&qe?1==re?l.a.createElement(n.Fragment,null,l.a.createElement(d.a,{className:"loader_position"})):l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"content-wrapper"},l.a.createElement("div",{className:"content-header"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("h1",{className:"m-0"},"Policy")),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("ol",{className:"breadcrumb float-sm-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(E.a,{className:"m-2",color:"second","data-toggle":"modal",onClick:G},"Add Policy")))))))),l.a.createElement("section",{className:"content"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("table",{id:"example1",className:"table table-bordered table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",null)),l.a.createElement("tr",null,l.a.createElement("th",null,"Sl"),l.a.createElement("th",null,"Action"),l.a.createElement("th",null,"polciy"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"percentage"))),X.filter((function(e){return e})).map((function(e,t){return l.a.createElement("tbody",{key:t},l.a.createElement("tr",null,l.a.createElement("td",null,t+1),l.a.createElement("td",null,"  ",l.a.createElement(g.a,{icon:["far","edit"],className:"font-size-xxl",placement:"top",style:{fontSize:15,color:"#0AEE23"},onClick:function(){return function(e){var t=localStorage.getItem("key").replace(/"/g,""),a={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}};r.a.get("".concat(p.a.api_url,"cancelpolicy/").concat(e),a).then((function(e){var t=JSON.stringify(e),a=JSON.parse(t);200==a.status&&(me(a.data.data),Ne(a.data.data.description),De(a.data.data.policy_category_id),je(a.data.data.id),K())})).catch((function(e){console.log(e,"errror")}))}(e.id)},id:"tooltipforedit",outline:e.id}),l.a.createElement(f.a,{placement:"top",container:"body",target:"tooltipforedit"},"edit"),"\xa0 \xa0",l.a.createElement(g.a,{icon:["far","trash-alt"],className:"font-size-xxl",placement:"top",style:{fontSize:15,color:"#EE180A "},id:"tooltipfordelete",value:e.id,onClick:function(){return function(e){var t=localStorage.getItem("key").replace(/"/g,""),a={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}};r.a.get("".concat(p.a.api_url,"cancelpolicy/").concat(e),a).then((function(e){var t=JSON.stringify(e),a=JSON.parse(t);200==a.status&&(ne(a.data.data),je(a.data.data.id),q())})).catch((function(e){console.log(e,"errror")}))}(e.id)},outline:e.id}),l.a.createElement(f.a,{placement:"top",container:"body",target:"tooltipfordelete"},"delete"),"\xa0 \xa0",l.a.createElement(g.a,{icon:["far","eye"],className:"font-size-xxl",placement:"top",style:{fontSize:15,color:"#0710CD "},id:"tooltipforview",outline:e.id,onClick:function(){return function(e){var t=localStorage.getItem("key").replace(/"/g,""),a={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}};r.a.get("".concat(p.a.api_url,"cancelpolicy/").concat(e),a).then((function(e){var t=JSON.stringify(e),a=JSON.parse(t);200==a.status&&(ne(a.data.data),H())})).catch((function(e){console.log(e,"errror")}))}(e.id)}})," ",l.a.createElement(f.a,{placement:"top",container:"body",target:"tooltipforview"},"view")),l.a.createElement("td",null,e.description),l.a.createElement("td",null,e.get_policy_category.title),l.a.createElement("td",null,e.get_policy_category.price+"%"),l.a.createElement(y.a,{zIndex:2e3,centered:!0,className:"custom_model_size",isOpen:L,toggle:K},l.a.createElement(b.a,{toggle:K},"Edit policy"),l.a.createElement(h.a,null,l.a.createElement(j.a,{onclick:function(){return Le(e.id)}},l.a.createElement(O.a,{row:!0},l.a.createElement(S.a,{htmlFor:"personCapacity",sm:1},"canclation Policy"),l.a.createElement(v.a,{sm:9},l.a.createElement(N.a,{type:"textarea",id:"placeName",name:"canclation",defaultValue:ge.description,value:ve,onChange:function(e){return Ne(e.target.value)}})))),l.a.createElement(O.a,{row:!0},l.a.createElement(S.a,{htmlFor:"countries",sm:1},"category"),l.a.createElement(v.a,{sm:3},l.a.createElement(k.a,{type:"select",id:"category_1",name:"ccategory",defaultValue:ge.policy_category_id,value:Fe.id,onChange:function(e){return De(e.target.value)}},l.a.createElement("option",null,"Select category"),m.map((function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.title)})),";")))),l.a.createElement(C.a,null,l.a.createElement(E.a,{color:"primary",className:"ml-auto",onClick:function(){return Le(e.id)}},"Update")))))}))))))))),l.a.createElement(y.a,{className:"custom_model_size",zIndex:2e3,centered:!0,scrollable:!0,isOpen:D,size:"lg",toggle:H},l.a.createElement(b.a,{toggle:H},"Information Of Policy"),l.a.createElement(h.a,{className:"text-center"},l.a.createElement(j.a,null,l.a.createElement(O.a,{row:!0},l.a.createElement(S.a,{className:"view_head",htmlFor:"personCapacity",sm:1},"canclation Policy:"),l.a.createElement(v.a,{sm:9},ge.description?ge.description:"Null")))),l.a.createElement(C.a,null,l.a.createElement(E.a,{color:"link",className:"btn-link-dark",onClick:H},"Close")," ")),l.a.createElement(y.a,{zIndex:2e3,centered:!0,size:"sm",isOpen:T,toggle:q},l.a.createElement(b.a,{toggle:q},"Delete Place"),l.a.createElement(h.a,null,l.a.createElement("p",null,"Are you sure Want To Delete ",ge.description,"?")),l.a.createElement(C.a,null,l.a.createElement(E.a,{color:"link",className:"btn-link-dark",onClick:q},"Close")," ",l.a.createElement(E.a,{color:"primary",className:"ml-auto",onClick:function(){return function(t){var a=localStorage.getItem("key").replace(/"/g,""),c={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a)}};r.a.delete("".concat(p.a.api_url,"cancelpolicy/").concat(he),c).then((function(t){if(t){q(),u()("policy deleted Successfully!"),Re();var a=t.data;e.setState({users:a})}})).catch((function(e){console.log(e)}))}(ge.id)}},"Delete"))),l.a.createElement(y.a,{zIndex:2e3,centered:!0,className:"custom_model_size",isOpen:I,toggle:G,backdrop:"static",keyboard:!1},l.a.createElement(b.a,{toggle:G},"Add Place"),l.a.createElement(h.a,null,l.a.createElement(j.a,null,l.a.createElement(O.a,{row:!0},l.a.createElement(S.a,{htmlFor:"personCapacity",sm:1},"canclation Policy"),l.a.createElement(v.a,{sm:9},l.a.createElement(N.a,{type:"textarea",id:"placeName",name:"customSelect",value:ve,onChange:function(e){return Ne(e.target.value)}}),""!=_e?l.a.createElement(S.a,{style:{color:"red"}},_e):null)),l.a.createElement(O.a,{row:!0},l.a.createElement(S.a,{htmlFor:"countries",sm:1},"category"),l.a.createElement(v.a,{sm:3},l.a.createElement(k.a,{type:"select",id:"category_1",name:"ccategory",value:Fe.id,onChange:function(e){return De(e.target.value)}},l.a.createElement("option",null,"Select category"),m.map((function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.title)})),";"))))),l.a.createElement(C.a,null,l.a.createElement(E.a,{color:"link",className:"btn-link-dark",onClick:G},"Close")," ",l.a.createElement(E.a,{color:"primary",className:"ml-auto",onClick:function(e){e.preventDefault(),Ae("");var t=localStorage.getItem("key"),a=t.replace(/"/,"");console.log(t);var c={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a)}},n={description:ve,policy_category_id:Fe};r.a.post("".concat(p.a.api_url,"cancelpolicy"),n,c).then((function(e){if(e.data.data)return G(),u()("Policy Added Successfully!","success"),e.data.data})).catch((function(e){console.log(e)}))}},"Add")))):l.a.createElement(i.Redirect,{to:"/"})}},245:function(e,t){},247:function(e,t){},248:function(e,t){}}]);
//# sourceMappingURL=21.f6996677.chunk.js.map